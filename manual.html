<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Corascope: Manual</title>
<meta name="generator" content="Org mode">
<meta name="author" content="George Kontsevich">
<link rel="stylesheet" type="text/css" href="../web/worg.css" />
<link rel="shortcut icon" href="../web/panda.svg" type="image/x-icon">
</head>
<body>
<div id="content">
<h1 class="title">Corascope: Manual</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org9d0ba63">./core32.png Features</a></li>
<li><a href="#orgb946649">./sediment32.png Program layout</a>
<ul>
<li><a href="#orge3c4c9e">Displays</a></li>
<li><a href="#orgf6a7b49">Cores</a></li>
</ul>
</li>
<li><a href="#org558df2e">./measurement32.png Adjusting Cores</a>
<ul>
<li><a href="#orgfcb09f2">Core Position</a>
<ul>
<li><a href="#org180e808">Pinning</a></li>
</ul>
</li>
<li><a href="#org85b615d">Cropping</a></li>
<li><a href="#org5e36d23">Overlap</a></li>
<li><a href="#org10adf22">Merging</a></li>
<li><a href="#org208d5ac">Export</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
Please see the <a href="./quick-start.html">Quick Start</a> for an walk through of how to use the software. This manual walks through break down how the different parts of the software work together to allow you to manipulate core scans.
</p>

<div id="outline-container-org9d0ba63" class="outline-2">
<h2 id="org9d0ba63"><img src="./core32.png" alt="core32.png"> Features</h2>
<div class="outline-text-2" id="text-org9d0ba63">
<dl class="org-dl">
<dt><b>ITRAX core scan inspection</b></dt><dd>Find scanning issues and identify regions of interest</dd>
<dt><b>Crop ITRAX Cores scans</b></dt><dd>Remove extraneous data, overscans and regions of bad data</dd>
<dt><b>Merge ITRAX Core scans</b></dt><dd>Glue back long core sections that needed to be scanned in sections so that you can go back to reasoning about core depth positions</dd>
<dt><b>Maintaining ITRAX format</b></dt><dd>All input and output conform to the ITRAX formats so that data that has been cropped and merged is in the familiar format on output</dd>
</dl>
</div>
</div>
<div id="outline-container-orgb946649" class="outline-2">
<h2 id="orgb946649"><img src="./sediment32.png" alt="sediment32.png"> Program layout</h2>
<div class="outline-text-2" id="text-orgb946649">

<div class="figure">
<p><img src="./docs/1-empty.png" alt="1-empty.png">
</p>
</div>
<ol class="org-ol">
<li>top area with a few global options</li>
<li><i>Options area</i> on the side which has different toggles and buttons</li>
<li><i>Layout Area</i> with an empty core with <b>Load</b> buttons.</li>
</ol>
</div>

<div id="outline-container-orge3c4c9e" class="outline-3">
<h3 id="orge3c4c9e">Displays</h3>
<div class="outline-text-3" id="text-orge3c4c9e">
<p>
On launch there are two displays: 
</p>
<ul class="org-ul">
<li><i>Overhead</i></li>
</ul>


<div class="figure">
<p><img src="./docs/2-overhead.png" alt="2-overhead.png">
</p>
</div>

<ul class="org-ul">
<li><i>Element Count</i></li>
</ul>


<div class="figure">
<p><img src="./docs/3-element-count.png" alt="3-element-count.png">
</p>
</div>

<p>
Each horizontal row corresponds to one <i>display</i>
</p>

<p>
There is always one options area on the side and then a display area for each core. Changing display options never changes any of the underlying data.
</p>

<blockquote>
<p>
<b>Note</b>: When data is unavailable the display either displays an error or reverts to a "Load" button - prompting the user to load in the necessary file.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgf6a7b49" class="outline-3">
<h3 id="orgf6a7b49">Cores</h3>
<div class="outline-text-3" id="text-orgf6a7b49">

<div class="figure">
<p><img src="./docs/4-cores.png" alt="4-cores.png">
</p>
</div>

<p>
The data is stored in <b>cores</b>. These are organized along vertical columns in the core layout area which you can navigate around using your mouse - scroll to zoom and drag to pan. The "|←→|" button at top will help you recenter/zoom-to-fit the cores. The core layout area is organized from left to right, from shallow to deep. 
</p>

<p>
Additional empty cores can be added with the "Add Core to End" button in the upper right corner.
</p>

<blockquote>
<p>
ITRAX optical scans are stored in a right-to-left image file. The program expects scans in the ITRAX format and it will output in the ITRAX format, but they will be displayed horizontally flipped in a left-to-right canonical and visually intuitive ordering
</p>
</blockquote>


<div class="figure">
<p><img src="./docs/5-header.png" alt="5-header.png">
</p>
</div>

<p>
At the top of each row is the core name, menu and [X] Delete button - the row below that the core start and end points (in mm) and has additional options for cropping the core.
</p>

<blockquote>
<p>
<b>Note</b>: The core name is derived from the XRF file name
</p>
</blockquote>

<p>
When you drag/load data into a display area the data is being loading into the corresponding column's core and when that core is removed (by hitting the 'X' in the upper right hand corner) then its associated data is <i>permanently</i> removed from the program
</p>
</div>
</div>
</div>

<div id="outline-container-org558df2e" class="outline-2">
<h2 id="org558df2e"><img src="./measurement32.png" alt="measurement32.png"> Adjusting Cores</h2>
<div class="outline-text-2" id="text-org558df2e">
<p>
Cores are adjusted through the core header
</p>
</div>

<div id="outline-container-orgfcb09f2" class="outline-3">
<h3 id="orgfcb09f2">Core Position</h3>
<div class="outline-text-3" id="text-orgfcb09f2">
</div>
<div id="outline-container-org180e808" class="outline-4">
<h4 id="org180e808">Pinning</h4>
<div class="outline-text-4" id="text-org180e808">

<div class="figure">
<p><img src="./docs/6-pinning.png" alt="6-pinning.png">
</p>
</div>

<p>
selecting either of these check boxes will pin either the top or bottom end so that it may be adjusted. Based on the input value the opposite end will automatically adjust (since the total length remains static during this operation). To highlight this, the other end becomes greyed out and can't be changed
</p>

<blockquote>
<p>
<b>Note</b>: If neither end is checked then the core ends are floating. This will be important when cropping
</p>
</blockquote>

<blockquote>
<p>
<b>Note</b>: When an optical image is loaded the input values will be automatically rounded to multiples of the pixel size. This is so that repositioning (and subsequent cropping) produces cores that can be immediately merged.
</p>
</blockquote>
</div>
</div>
</div>

<div id="outline-container-org85b615d" class="outline-3">
<h3 id="org85b615d">Cropping</h3>
<div class="outline-text-3" id="text-org85b615d">
<p>
Core cropping is accomplished by using two sliders on either side of the header.
</p>


<div class="figure">
<p><img src="./docs/8-preview.png" alt="8-preview.png">
</p>
</div>

<p>
An immediate visual feed will be observed in the displays to "preview" the operation. Once you hit crop the ends are removed. If either end is pinned then that end will remain at that position even after a crop. Post-crop end positions are previewed in red in the header
</p>

<p>
If the top/bottom positions are not pinned and are left floating, then the core is cropped such as the to leave the data points in their original locations
</p>

<blockquote>
<p>
<b>Note</b>: The sliders are limited to cropping off at most 50% - so if you have an very unusual scan where one tail is &gt;50% then you may simply need to crop multiple times
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org5e36d23" class="outline-3">
<h3 id="org5e36d23">Overlap</h3>
<div class="outline-text-3" id="text-org5e36d23">
<p>
<img src="./docs/9-overlap.png" alt="9-overlap.png">
If two cores overlap than the deeper one will be drawn offset downward with an "Adjust" button in its header near the start position. Pressing this button opens an additional display below where the start position of the deeper core can be adjusted (by clicking in the lower plot). 
</p>

<p>
The upper plot allows the user to line up to two overlapping signals (black and red bein the upper and lower core respectively). It updates "live" as the cropping sliders are adjusted 
</p>

<p>
Once both cores are sufficiently cropped they will once again appear side-by-side
</p>
</div>
</div>

<div id="outline-container-org10adf22" class="outline-3">
<h3 id="org10adf22">Merging</h3>
<div class="outline-text-3" id="text-org10adf22">
<p>
<img src="./docs/10-merged.png" alt="10-merged.png">
Once cores are cropped and aligned they should be merged into one virtual "core" by hitting the "Merge &lt;&lt;" button in the top left
</p>

<blockquote>
<p>
<b>Note</b>: Merging will pad the front of the combined data/image such that the result starts are postion 0mm
</p>
</blockquote>

<blockquote>
<p>
<b>Note</b>: Merging is disabled when any cores overlap b/c the operation is nonsensical
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org208d5ac" class="outline-3">
<h3 id="org208d5ac">Export</h3>
<div class="outline-text-3" id="text-org208d5ac">

<div class="figure">
<p><img src="./docs/11-export.png" alt="11-export.png">
</p>
</div>

<p>
Once cores are merged we want to export the data using the core's context menu (upper left of the core header)
</p>

<blockquote>
<p>
<b>Note</b>: While the exported file is in the same format as the input files - the new adjusted data point positions are stored in a <code>depth-mm</code> column and the original <code>position-mm</code> column generated by the ITRAX machine is left as it was when that line was read in from its original file. If you reprocess files through Corascope then the <code>depth-mm</code> will be overwritten
</p>
</blockquote>
</div>
</div>
</div>
</div>
</body>
</html>
